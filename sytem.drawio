<mxfile host="app.diagrams.net" modified="2023-09-06T14:37:14.248Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36" etag="3GUduTroVrsML4pyyAXR" version="21.7.2" type="device" pages="5">
  <diagram id="6L225yIBTmWSjZVqdbAA" name="hbase">
    <mxGraphModel dx="2220" dy="1892" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#FF0000;fontSize=12;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-1" target="sWG9DdwuY1MqRwgzmFm9-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="540" y="220" />
              <mxPoint x="790" y="220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-61" value="&lt;font color=&quot;#ff0000&quot;&gt;监听到故障，进行故障&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="sWG9DdwuY1MqRwgzmFm9-60" vertex="1" connectable="0">
          <mxGeometry x="-0.2564" y="-2" relative="1" as="geometry">
            <mxPoint y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;strokeColor=#0000FF;fontSize=12;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-1" target="sWG9DdwuY1MqRwgzmFm9-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="540" y="240" />
              <mxPoint x="715" y="240" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-66" value="&lt;font color=&quot;#0000ff&quot;&gt;监听到split事件&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="sWG9DdwuY1MqRwgzmFm9-65" vertex="1" connectable="0">
          <mxGeometry x="-0.396" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-1" value="zookeeper" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="417" y="209" width="130" height="47" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-3" value="hfs" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="270" y="538" width="340" height="47" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-25" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=11;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-4" target="sWG9DdwuY1MqRwgzmFm9-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-4" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="270" y="360" width="100" height="130" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-26" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=11;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-5" target="sWG9DdwuY1MqRwgzmFm9-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=12;strokeColor=#FF0000;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-5" target="sWG9DdwuY1MqRwgzmFm9-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="470" y="360" />
              <mxPoint x="470" y="256" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-59" value="&lt;div style=&quot;text-align: left;&quot;&gt;故障心跳丢失&amp;nbsp;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="sWG9DdwuY1MqRwgzmFm9-58" vertex="1" connectable="0">
          <mxGeometry x="-0.3274" y="2" relative="1" as="geometry">
            <mxPoint x="6" y="-32" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-5" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#FF0000;" parent="1" vertex="1">
          <mxGeometry x="390" y="360" width="100" height="130" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-27" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=11;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-6" target="sWG9DdwuY1MqRwgzmFm9-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-6" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="510" y="360" width="100" height="130" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-7" value="regin-server" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="280" y="370" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-8" value="regin-server" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="400" y="370" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-9" value="regin-server" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="520" y="370" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-11" value="&lt;div style=&quot;text-align: left;&quot;&gt;1. 表的增删管理&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;2. regin重分配&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;3. regin split后，进行新regin重分配&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;4. reginserver故障后，进行故障转移&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;https://www.cnblogs.com/quyf/p/8778254.html&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="640" y="363" width="300" height="130" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-12" value="hmaster" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="650" y="370" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-14" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-13" target="sWG9DdwuY1MqRwgzmFm9-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-16" value="&lt;span style=&quot;caret-color: rgb(51, 51, 51); color: rgb(51, 51, 51); font-family: -apple-system, &amp;quot;SF UI Text&amp;quot;, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif, SimHei, SimSun; text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;首先从zk找到meta表的region位置&lt;/font&gt;&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="sWG9DdwuY1MqRwgzmFm9-14" vertex="1" connectable="0">
          <mxGeometry x="-0.3106" y="2" relative="1" as="geometry">
            <mxPoint x="47" y="-12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-21" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=11;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-13" target="sWG9DdwuY1MqRwgzmFm9-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-22" value="获取meta，包含所有regin信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;" parent="sWG9DdwuY1MqRwgzmFm9-21" vertex="1" connectable="0">
          <mxGeometry x="-0.2679" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-23" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-13" target="sWG9DdwuY1MqRwgzmFm9-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-24" value="通过rowkey定位reginserver和regin" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;" parent="sWG9DdwuY1MqRwgzmFm9-23" vertex="1" connectable="0">
          <mxGeometry x="-0.3437" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-13" value="client" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="30" y="270" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-29" value="&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;meta表的reginserver挂了，zk会监听到，其他节点会补充上去&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="80" y="650" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-30" value="regin" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="280" y="400" width="30" height="80" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-31" value="regin" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="316" y="400" width="34" height="80" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-32" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="790" width="460" height="480" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-33" value="regin-server" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="360" y="800" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-34" value="" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="290" y="850" width="330" height="400" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-35" value="regin" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="409" y="853" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-42" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;dashed=1;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-36" target="sWG9DdwuY1MqRwgzmFm9-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-49" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=11;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-36" target="sWG9DdwuY1MqRwgzmFm9-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-36" value="mem-store" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="365" y="887" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-37" value="storefile&lt;br&gt;（hfile）" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="337.5" y="1030" width="50" height="60" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-38" value="storefile&lt;br&gt;（hfile）" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="412.5" y="1030" width="50" height="60" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-39" value="WAL" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="217" y="880" width="50" height="60" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-40" value="block-cache" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="216" y="950" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-41" value="跳表" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="707" y="884" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-44" value="&lt;h1&gt;存储关键点&lt;/h1&gt;&lt;p&gt;1. LSM 架构&lt;/p&gt;&lt;p&gt;2. memstore设计&amp;nbsp;https://cloud.tencent.com/developer/article/1618190&lt;/p&gt;&lt;p&gt;2. hfile文件索引结构&amp;nbsp;&lt;/p&gt;https://blog.csdn.net/u013516966/article/details/124958150&lt;span style=&quot;caret-color: rgb(77, 77, 77); color: rgb(77, 77, 77); font-family: -apple-system, &amp;quot;SF UI Text&amp;quot;, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif, SimHei, SimSun; background-color: rgb(255, 255, 255); font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;p&gt;3. memstore 数据结构&lt;/p&gt;&lt;p&gt;4. booloom过滤器，避免key不存在导致的扫描所有数据。&lt;/p&gt;&lt;p&gt;5. hfile多个，因此数据有很多版本，需要都进行扫描，因此需要进行hfile文件合并，叫做compact&lt;/p&gt;&lt;p&gt;6. key删除，数据位置加墓碑标志&lt;/p&gt;&lt;p&gt;7. 数据读取使用层层scaner，最终使用 menscaner， storefilescanner（https://blog.csdn.net/newbei5862/article/details/121360246）&lt;/p&gt;&lt;p&gt;8.&amp;nbsp;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="-140" y="790" width="330" height="330" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-47" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=11;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-45" target="sWG9DdwuY1MqRwgzmFm9-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-48" value="持久化" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;" parent="sWG9DdwuY1MqRwgzmFm9-47" vertex="1" connectable="0">
          <mxGeometry x="-0.1231" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-45" value="mem-store&amp;nbsp;&lt;br&gt;达到阈值，不可更改" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="365" y="954" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-46" target="sWG9DdwuY1MqRwgzmFm9-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-52" value="超过最大容量，split，" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;" parent="sWG9DdwuY1MqRwgzmFm9-51" vertex="1" connectable="0">
          <mxGeometry x="-0.1143" relative="1" as="geometry">
            <mxPoint x="18" y="-14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=11;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-46" target="sWG9DdwuY1MqRwgzmFm9-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-46" value="storefile&lt;br&gt;（hfile）" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="490" y="1030" width="50" height="60" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-50" value="storefile&lt;br&gt;（hfile）" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="450" y="1160" width="50" height="60" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-56" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;dashed=1;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-53" target="sWG9DdwuY1MqRwgzmFm9-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-53" value="storefile&lt;br&gt;（hfile）" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="530" y="1160" width="50" height="60" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-55" value="https://blog.csdn.net/u013516966/article/details/124958150&lt;br&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;&lt;font face=&quot;-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif, SimHei, SimSun&quot; color=&quot;#4d4d4d&quot;&gt;https://www.lmlphp.com/user/60212/article/item/1369356/&lt;br&gt;&lt;/font&gt;https://forum.huawei.com/enterprise/zh/thread/580935540230995968&lt;br&gt;http://metronic.net.cn/news/430831.html&lt;br&gt;https://cloud.tencent.com/developer/article/1635417&lt;br&gt;&lt;font face=&quot;-apple-system, SF UI Text, Arial, PingFang SC, Hiragino Sans GB, Microsoft YaHei, WenQuanYi Micro Hei, sans-serif, SimHei, SimSun&quot; color=&quot;#4d4d4d&quot;&gt;&lt;span style=&quot;caret-color: rgb(77, 77, 77);&quot;&gt;HFile依次由&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;caret-color: rgb(77, 77, 77); color: rgb(77, 77, 77); font-family: -apple-system, &amp;quot;SF UI Text&amp;quot;, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif, SimHei, SimSun; font-size: 12px; background-color: rgb(255, 255, 255);&quot;&gt;四个部分组成&lt;/span&gt;&lt;span style=&quot;caret-color: rgb(77, 77, 77); color: rgb(77, 77, 77); font-family: -apple-system, &amp;quot;SF UI Text&amp;quot;, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif, SimHei, SimSun; background-color: rgb(255, 255, 255); font-size: 12px;&quot;&gt;&lt;br&gt;1. Scanned Block 数据【data，leaf-index-entry，data，leaf-index-entry】&lt;br&gt;2. Non-scanned Block&amp;nbsp;&lt;br&gt;3. Load-on-open&amp;nbsp;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;caret-color: rgb(77, 77, 77); color: rgb(77, 77, 77); font-family: -apple-system, &amp;quot;SF UI Text&amp;quot;, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif, SimHei, SimSun; background-color: rgb(255, 255, 255);&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;HFile元数据信息，包括索引根节点root-index-block（记录leaf-index-entry位置）&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;caret-color: rgb(77, 77, 77); color: rgb(77, 77, 77); font-family: -apple-system, &amp;quot;SF UI Text&amp;quot;, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif, SimHei, SimSun; background-color: rgb(255, 255, 255);&quot;&gt;&lt;font style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;、布隆过滤器元数据等，在RegionServer打开HFile就会加载到内存，作为查询的入口。&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;caret-color: rgb(77, 77, 77); color: rgb(77, 77, 77); font-family: -apple-system, &amp;quot;SF UI Text&amp;quot;, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif, SimHei, SimSun; background-color: rgb(255, 255, 255); font-size: 12px;&quot;&gt;&lt;br&gt;&lt;br&gt;4. Trailer&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;align=left;spacingLeft=8;" parent="1" vertex="1">
          <mxGeometry x="730" y="1060" width="520" height="210" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-57" value="&lt;h1&gt;数据读写&lt;/h1&gt;&lt;p&gt;1. 架构&amp;nbsp;https://blog.csdn.net/weixin_43958974/article/details/125049446&lt;/p&gt;&lt;p&gt;2. 读写：&lt;/p&gt;&lt;p&gt;2.1 https://blog.csdn.net/weixin_52851967/article/details/127592021&lt;/p&gt;&lt;p&gt;2.2 https://blog.csdn.net/newbei5862/article/details/121360246&lt;br&gt;&lt;/p&gt;&lt;p&gt;2.3 https://blog.csdn.net/u013516966/article/details/124958150&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-220" y="20" width="460" height="190" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;strokeColor=#0000FF;fontSize=12;" parent="1" source="sWG9DdwuY1MqRwgzmFm9-62" target="sWG9DdwuY1MqRwgzmFm9-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="547" y="257" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-64" value="regin split 事件" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="sWG9DdwuY1MqRwgzmFm9-63" vertex="1" connectable="0">
          <mxGeometry x="0.12" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-62" value="regin" style="rounded=1;whiteSpace=wrap;html=1;fontSize=11;strokeColor=#0000FF;" parent="1" vertex="1">
          <mxGeometry x="530" y="400" width="34" height="80" as="geometry" />
        </mxCell>
        <mxCell id="sWG9DdwuY1MqRwgzmFm9-67" value="&lt;h1&gt;&lt;font color=&quot;#000000&quot;&gt;事件与故障恢复&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;font color=&quot;#000000&quot;&gt;1.&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;caret-color: rgb(0, 0, 0);&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;regin-server故障，hmaster监听节点，将对应regin负责的key范围负载到其他reginserver，更新regin信息&lt;/font&gt;&lt;br&gt;&lt;br&gt;&lt;font color=&quot;#000000&quot;&gt;2. &lt;/font&gt;当regin存储的数据量过大，会触发region split事件&lt;br&gt;2.1 写入zk节点，通知进行reginsplit，master记录此状态&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;caret-color: rgb(0, 0, 0);&quot;&gt;2.3 关闭regin服务&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;caret-color: rgb(0, 0, 0);&quot;&gt;2.4 &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;caret-color: rgb(0, 0, 0);&quot;&gt;对关联的hdfs文件进行数据拆分regin和file，建立refer文件，相当于生成子region&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;caret-color: rgb(0, 0, 0);&quot;&gt;2.5 更新meta表，使分列后的regin生效，旧regin依然失效&lt;br&gt;2.6 开启服务&lt;br&gt;2.7 数据迁移，触发compact是，会跟据meta表对 父子regin进行整理，然后删除旧的父regin&lt;br&gt;&lt;br&gt;&lt;/span&gt;https://blog.csdn.net/guiyifei/article/details/108765012&lt;br&gt;https://blog.csdn.net/qq_31598113/article/details/80572535&lt;br&gt;https://zhuanlan.zhihu.com/p/362159947&lt;span style=&quot;caret-color: rgb(0, 0, 0);&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontSize=12;fontColor=#0000FF;" parent="1" vertex="1">
          <mxGeometry x="410" y="-120" width="520" height="280" as="geometry" />
        </mxCell>
        <mxCell id="2TXvQsUcI2ktR1J6kPUb-1" value="&lt;h1&gt;优化&lt;/h1&gt;&lt;p&gt;1. key设计&lt;/p&gt;&lt;p&gt;2. region 与分配，与regionserver 数量是否匹配&lt;/p&gt;&lt;p&gt;3. memstore内存大小，超过阈值regionserver会进行对region进行排序，然后flush，造成较长时间的阻塞&lt;/p&gt;&lt;p&gt;4. hifle数量，超过阈值后会强制进行compact，频繁的compact会造成阻塞&lt;/p&gt;&lt;p&gt;5. region-split 设置，【constantsizeregionsplitpolicy&lt;span style=&quot;background-color: initial;&quot;&gt;】&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;【increasing to upper bound region split policy】&lt;/span&gt;&lt;/p&gt;&lt;p&gt;【step region split policy】&lt;/p&gt;&lt;p&gt;【key prefix split policy】&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-40" y="1290" width="290" height="320" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Z31aCEj5SxCEkg4cwu7V" name="flink">
    <mxGraphModel dx="1416" dy="1597" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="Mzp5cuZsO0-j_MJB2tly-1" target="Mzp5cuZsO0-j_MJB2tly-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-5" value="提交任务" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Mzp5cuZsO0-j_MJB2tly-4" vertex="1" connectable="0">
          <mxGeometry x="-0.1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-1" value="client" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="-115" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startArrow=classic;startFill=1;" parent="1" source="Mzp5cuZsO0-j_MJB2tly-2" target="Mzp5cuZsO0-j_MJB2tly-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-18" value="通信" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Mzp5cuZsO0-j_MJB2tly-17" vertex="1" connectable="0">
          <mxGeometry x="-0.0571" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-2" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="360" y="50" width="270" height="340" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-3" value="主备 jobmanager" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="560" y="-180" width="250" height="190" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-6" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="379.5" y="120" width="140" height="130" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-7" value="taskmanager" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="460" y="60" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-8" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="545" y="120" width="60" height="130" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-9" value="taskslot" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="410" y="130" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-10" value="&lt;h1&gt;使用&lt;/h1&gt;&lt;div&gt;1. 特性与适用场景：流批一体，故障恢复，exactly-onece, event-time&lt;/div&gt;&lt;p&gt;1&lt;span style=&quot;background-color: initial;&quot;&gt;. 如何定义source，source应该支持哪些特性，可部分消费，&lt;/span&gt;&lt;/p&gt;&lt;p&gt;2. 如何正确的定义sink，计算模型是否支持覆盖写，或者是否支持事务，&lt;/p&gt;&lt;p&gt;3. 支持的功能，聚合计算，窗口，keyby，cep复杂事件处理&lt;sub&gt;，等等&lt;/sub&gt;&lt;/p&gt;&lt;p&gt;&lt;sub&gt;4. 核心原理，state，barrier，snapshot，checkpoint&amp;nbsp;&amp;nbsp;&lt;/sub&gt;&lt;span style=&quot;vertical-align: sub; background-color: initial;&quot;&gt;https://view.inews.qq.com/k/20211213A01IZQ00&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 10px; background-color: initial;&quot;&gt;4. 核心原理，watermark（与window有关），&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 10px;&quot;&gt;5. 核心原理，backpressure，通信&lt;/span&gt;&lt;sub&gt;&lt;br&gt;&lt;/sub&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;5. 常见注意事项：&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;sub&gt;5.1 双流join&lt;/sub&gt;&lt;/p&gt;&lt;p&gt;&lt;sub&gt;5.2 checkpoint失败&lt;/sub&gt;&lt;/p&gt;&lt;p&gt;&lt;sub&gt;5.3 启动方式&lt;/sub&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="140" y="-564" width="650" height="394" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-11" value="状态存储" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="399.5" y="430" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-12" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="700" y="50" width="270" height="290" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-13" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="718" y="140" width="140" height="130" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-14" value="taskmanager" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="800" y="60" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-15" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="880" y="140" width="50" height="130" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-16" value="taskslot" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="750" y="150" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-19" value="task" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="390" y="165" width="45" height="45" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-20" value="task" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="440" y="182.5" width="45" height="45" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-21" value="taskslot" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="545" y="130" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-22" value="memory / io" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="390" y="260" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-23" value="network" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="390" y="299" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-24" value="actor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="390" y="340" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-25" value="actor" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="580" y="-40" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-26" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;1. 同一个taskslot可以执行【同job】的task&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2. operator 任务可以跟其他任务合并，避免线程切换。&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="50" y="100" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-27" value="存储与扩容：&lt;br&gt;https://flink.apache.org/features/2017/07/04/flink-rescalable-state.html&lt;br&gt;&lt;br&gt;1. keyedstates （实现richfunction）&lt;br&gt;1.1 valuestates&lt;br&gt;1.2 liststates&lt;br&gt;1.3 mapstates&lt;br&gt;1.4 aggravationstates&lt;br&gt;1.5 reducingstates&lt;br&gt;&lt;br&gt;2. operator states（实现 checkpointfunc）&lt;br&gt;2.1 liststates&lt;br&gt;2.2 broadcaststates&lt;br&gt;&lt;br&gt;states清除：&lt;br&gt;1. clean方法&lt;br&gt;2. ttl" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="50" y="370" width="260" height="260" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-31" value="&lt;h1&gt;checkpoint&lt;/h1&gt;&lt;p&gt;1. 发送barrire到source&lt;/p&gt;&lt;p&gt;2. 给接收到barrier的节点，将state生成snapshot，存储到持久层节点，传到最终节点，checkpoint成功&lt;/p&gt;&lt;p&gt;3. 相关配置：snapshot同步/异步，持久化存储，超时时间，并发checkpoint个数， ttl&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;4. 关联：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;1. 预估容量&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2. 部分链路阻塞，barrier失败&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="900" y="-490" width="400" height="250" as="geometry" />
        </mxCell>
        <mxCell id="Mzp5cuZsO0-j_MJB2tly-32" value="&lt;h1&gt;背压&lt;/h1&gt;&lt;p&gt;1.&amp;nbsp; 上下游节点通过&amp;nbsp;&lt;span style=&quot;caret-color: rgb(77, 77, 77); color: rgb(77, 77, 77); font-family: -apple-system, &amp;quot;SF UI Text&amp;quot;, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif; font-size: 16px; text-size-adjust: auto; background-color: rgb(255, 255, 255);&quot;&gt;Credit 控制发送速度，为0则不往下发数据&lt;/span&gt;&lt;/p&gt;&lt;p&gt;背压出现的原因：&lt;/p&gt;&lt;p&gt;1. 节点耗时，性能问题&lt;/p&gt;&lt;p&gt;2. barrie 对齐，等他其他边数据，导致无法继续处理数据&lt;/p&gt;&lt;p&gt;3. 数据热点，&lt;/p&gt;&lt;p&gt;影响：&lt;/p&gt;&lt;p&gt;1. 流程延迟&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2.&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;checkpoint&lt;/span&gt;&lt;/p&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;3. stat变大&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1030" y="-220" width="400" height="370" as="geometry" />
        </mxCell>
        <mxCell id="JGuhwD_B5t4sZ1gWhRbp-1" value="&lt;h1&gt;双流join&lt;/h1&gt;&lt;p&gt;1.&amp;nbsp; 基于原生state的connect&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;2. 基于窗口的join操作（window join， interval join），核心原理是 window+state+双层for循环，然后输出&lt;/p&gt;&lt;p&gt;2.1 steam1.join(stream).where().equalto().windows().apply(), 此为innerjoin&lt;/p&gt;&lt;p&gt;2.2 stream1.coGroup(stream).where().equalto().window().apply(new CoGrouoFunction(双层for循环定义join行为和输出逻辑))&lt;/p&gt;&lt;p&gt;2.3 stream.keyby().intervalJoin(stream2).between(时间差).process(new ProcessJoinFunction(存储双流的状态，然后));&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="370" y="730" width="600" height="260" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="7asS-ZPjjr2DkmPceyGj" name="mysql">
    <mxGraphModel dx="1416" dy="770" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="412NWcgfwBCfTIIGYxNK-1" value="&lt;h1&gt;连接数对服务器的影响&lt;/h1&gt;&lt;p&gt;1. 链接数越多需要的服务器更多的线程维护，增加上下文切换消耗&lt;/p&gt;&lt;p&gt;2. 线程越多，对资源的竞争越大，所以锁冲突越多，性能会下降&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="150" y="150" width="370" height="120" as="geometry" />
        </mxCell>
        <mxCell id="412NWcgfwBCfTIIGYxNK-2" value="&lt;h1&gt;线程模型&lt;/h1&gt;&lt;p&gt;1. 默认是one-connection-one-thread，支持配置最大线程数（非线程池）&lt;/p&gt;&lt;p&gt;2. 5.6版本之后支持线程池，通过配置thread_handing开启，&lt;/p&gt;&lt;p&gt;http://t.zoukankan.com/cchust-p-4510039.html&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="151" y="290" width="459" height="140" as="geometry" />
        </mxCell>
        <mxCell id="412NWcgfwBCfTIIGYxNK-3" value="&lt;h1&gt;死锁&lt;/h1&gt;&lt;p&gt;1. 排他，独占&lt;/p&gt;&lt;p&gt;2. 已占用一个资源，又申请其他资源&lt;/p&gt;&lt;p&gt;3. 只能自己释放&lt;/p&gt;&lt;p&gt;4. 依赖关系形成环&lt;/p&gt;&lt;p&gt;如何避免死锁&lt;/p&gt;&lt;p&gt;1. 系统上开启死锁检测，造成思索的回滚事物&lt;/p&gt;&lt;p&gt;2. 配置死锁超时，一般为50s，但是这种一般业务不允许&lt;/p&gt;&lt;p&gt;2. 合理增加索引，不走索引的话，会锁全部记录，增加死锁概率&lt;/p&gt;&lt;p&gt;3. 业务上约定表的依赖顺序，定义加锁顺序&lt;/p&gt;&lt;p&gt;4. 业务上，大事物拆成小事物&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="630" y="274" width="459" height="336" as="geometry" />
        </mxCell>
        <mxCell id="pTDhod6DtRqmLDPLK2Lz-1" value="&lt;h1&gt;优化&lt;/h1&gt;&lt;p&gt;1. explain 的type字段，const，ref， range，index，alll&lt;/p&gt;&lt;p&gt;2. 开启慢查询日志&lt;/p&gt;&lt;p&gt;3. show&amp;nbsp;&lt;/p&gt;&lt;p&gt;2. 左匹配，索引区分度，&lt;/p&gt;&lt;p&gt;3. 主键索引，唯一索引，普通索引&lt;/p&gt;&lt;p&gt;2.&amp;nbsp;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="140" y="500" width="459" height="176" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="clX7AXocpBAE6gWn9o0P" name="其他">
    <mxGraphModel dx="1416" dy="770" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="9W3_dJtQZpuKJMVwat0y-1" value="&lt;h1&gt;Heading&lt;/h1&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;cyclicBarrier&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;/** The lock for guarding barrier entry */&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;private final ReentrantLock lock = new ReentrantLock();&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;/** Condition to wait on until tripped */&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;private final Condition trip = lock.newCondition();&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;/** The number of parties */&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;private final int parties;&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;/* The command to run when tripped */&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;private final Runnable barrierCommand;&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;/** The current generation */&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;private Generation generation = new Generation();&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;semphare&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;fairsync, 重写aqs.tryAcquireShared检测hasQueuedPredecessors,如果没前节点，设置自己是头节点，进行case&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;unfairsync, 重写aqs.tryAcquireShared只进行cas, compareandswap,&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;注：aqs.tryAcquireShared 需要同步返回结果，unfair一直在cas，直到成功。fair检测是否有前节点，有返回-1，然后park到aps的等待队列里&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;reentrantLock&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;跟semphare一样，有公平所和非公平锁，只是state设置为0，1&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;countdowlancher&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 初始化state为 n·&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 重写aqs.tryRelease，子线程对state进行case减1操作，所有线程执行成功后， state=0，&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 重写aqs.tryAcquireShared，当state不是0的时候，主线程调用此方法挂起。&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;并发的三大特性：1. 可见性，2.有序性，原子性&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;jmm：&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;jmm内存机制：&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 所有变量在 main memery&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 每个线程有自己的工作内存 work memery&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;3. 线程对变量的操作是把【变量从mainmemery拷贝到workmemery】，然后在workmemery操作，&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;4. workmemery之间的变量不能互相访问，只能通mainmemery访问&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;happenbefore&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 程序顺序性规则&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. volitile变量规则：对volitile的写发生在读之前&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;3. 传递性&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;4. 锁规则：加锁发生在解锁之前&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;5. 线程start规则， a启动b，b可以看到启动前a的所有操作&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;6. 线程join规则，b线程joina，b可以看到a执行前的所有操作&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;volitile&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 通过内存屏障控制变量前后的操作顺序性（loaderloader，loadstore， storestore，storeload）&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 本质是强制内存刷入mainmemory&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;jvm：++++++++++++++++++++&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;常见数据结构：hashmap&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;http:&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;https://blog.csdn.net/weixin_34235371/article/details/88910200?spm=1001.2101.3001.6650.1&amp;amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-88910200-blog-84620865.pc_relevant_3mothn_strategy_recovery&amp;amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-88910200-blog-84620865.pc_relevant_3mothn_strategy_recovery&amp;amp;utm_relevant_index=2&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;https://www.jianshu.com/p/fa13fb98b14f&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;http1.0&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 基于tcp，默认短链接，可以开启&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;问题：&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;tcp慢启动，影响网络io速度&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;http1.1&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 基于tcp，&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 默认长链接，单链接可同时发送多个请求，响应必须按照顺序返回，&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;4. 支持host域，增加多种请求方式&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;5. 支持pipline&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;http2.0&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 一个tcp链接，多路复用，通过streamid区分&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 头部压缩和缓存，避免多次传输&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;3. 服务器推送&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;4. 数据二进制分帧传输（head frame，body frame），每个帧都会属于一个frameid&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;5. 请求有优先级表示，具体需要服务端实现&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;6. 可实现流控&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;问题：&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 使用一个tcp链接，重传影响所有处理&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;rpc&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. client，client_stub, server_stub, server 基础功能流程&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 涉及代理，序列化，nio网络通信，服务发现，负载均衡&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;grpc与proto&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;https://blog.csdn.net/Jailman/article/details/126056469&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;grpc&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 基于proto，高性能的序列化，规范的数据类型和接口设计&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 基于http2，提高io吞吐量&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;3. 支持请求-响应模式，&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;4. stream流模式(请求流/响应流/双流),proto定义返回类型或者输入参数为 stream类型。（https://blog.51cto.com/u_12903656/5290665）&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;java：&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 通信用的netty，底层用的epoll&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;golang：&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 监听端口后，链接事件会通过handleRawConn进行 http2 转化（https://learnku.com/articles/36225）&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 使用socket.accept 函数初始话fd的时候，会底层使用的是epool进行的fd操作，&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;所以golang在grpc的io用的是epoll+gorouteline （https://zhuanlan.zhihu.com/p/108509080）&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;grpc如何做服务发现和负载均衡：&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;服务发现：结合zk，etcd，k8snamespace（dns）等等服务&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;负载均衡：通过服务发现获取服务端ip，然后链接服务器，客户端采用负载均衡算法进行服务调用（https://blog.csdn.net/qiuxin315/article/details/116494488?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-1-116494488-blog-122085778.pc_relevant_landingrelevant&amp;amp;spm=1001.2101.3001.4242.2&amp;amp;utm_relevant_index=4）&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;http3&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. quic&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. UDP&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 使用链接id表示一个链接，无线网环境下&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 解决tcp的队列头问题，&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;3. 解决tcp的慢启动问题&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;4. 降低rtt&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;tcp（https://blog.csdn.net/u011626662/article/details/119025268）&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 数据包重传：&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;超时重传，快速重传，带确认信息的重传&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 【流量控制】通过tcp窗口实现，接收方在返回的协议报文中返回可接收大小，达到控制速度的效果&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 发送窗口，主要关心【已发送-未确认】【可发送】&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 接收窗口，主要关心【未收但是可接收数据】&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;3. 【拥塞控制】，通过【拥塞窗口cwnd】的变量控制【数据包数量】&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 【慢启动】，cwnd每次收到完整ack，便以指数增长，直到达到阈值ssthresh&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 【拥塞避免】，达到阈值后，swnd线性增长。&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;3. 【拥塞发生】，检测到【时重传，快速重传】状态，cwnd = cwnd/2，ssthresh = cwnd，&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;4. 【快速恢复】cwnd = sshthresh + 3，正常的话，以【拥塞避免】继续执行&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;4. 粘包拆包&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;tcp是面向流的，是没有界限的数据&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;【粘包】：发送数据小于【缓存区】，产生粘包&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;接收没有及时读取【缓冲区】，产生粘包&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;【拆包】：发送数据大于【缓冲区】&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;待发送数据大于【最大报文长度】&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;解决：1. 固定长度，2.分割符&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;安全：&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 半链接队列【sync队列】&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 全链接队列【ACCEPT队列】&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;linux：&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;https://zhuanlan.zhihu.com/p/137061978&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;https://zhuanlan.zhihu.com/p/487386274&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;https://blog.csdn.net/qq_38649266/article/details/124730432&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;https://www.zhihu.com/question/67194662&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. 虚拟内存，mmstruct-&amp;gt;vm_area_struct, 通过malloc，mmap等申请&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 内存分页（4k），缺页异常，置换（换入与换出），换出时会把换出的对象对应的磁盘位置写入mmu页表中&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;3. mmu页表, 二级页表，vpn（虚拟叶号）+offset -&amp;gt; pfn（物理页号）+offset&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;4. 换出的内容会写到/swap中&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;kafka:&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;1. rebalance: 消费者发送【join】给 组协调器【coordinator】，收到全部【join】后，从消费者选出leader，把信息发送给leader，leader负责分配&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;2. 分配完成后，leader发送 SyncGroup 给coordinator，&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;3. 新版本：组协调器【coordinator】负责发起rebalnce和记录offset&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;缓存策略：&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;cache-aside：写db，删缓存，&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;read-through/write-througth, 加一层缓存组建代理，由缓存组件进行缓存的更新和db的更新。&lt;/span&gt;&lt;br style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(53, 53, 53); font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; font-size: 14px; background-color: rgb(149, 236, 105);&quot;&gt;write-back，写缓存，并写队列，队列再异步更新到db&lt;/span&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="330" y="190" width="790" height="2780" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="pxL9wFSiKtKwg0iKAFjV" name="自我介绍">
    <mxGraphModel dx="1416" dy="770" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="UnnP6oaFK4hgzQtSNWay-2" value="&lt;h1&gt;Heading&lt;/h1&gt;&lt;p&gt;1. 面试官你好，我叫任琼巍，很高兴有机会参加字节的面试。&lt;/p&gt;&lt;p&gt;2. 我从两个方面介绍下我自己&lt;/p&gt;&lt;p&gt;2.1 技术方向，第一个是业务应用，&lt;span style=&quot;background-color: initial;&quot;&gt;主要是以java为基础，以及关联的主流的java应用开发框架spring，springboot，另外就是在业务应用上常用的数据存储mysql，redis&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;第二个是数据处理方向，目前主要使用到flink以及数据存储hbase，redis，对这块也有一定深度的学习和实践经验。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;第三是开发过程涉及到的一些中间件，比如kafka，zookeeper等等也有一定的研究，同时基于对中间件的学习，也总结了一些有关集群的常用设计方案和算法，一致性算法，容灾，故障转移&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;第四是，操作系统方面个人也是很感兴趣，对比如io，调度，eopll等等有一些积累。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;2.2 个人性格&lt;/p&gt;&lt;p&gt;最后我分享一下个人的性格特点，做人上能很好的与人相处，做事上乐观，坚定，认为所有的事情没有失败的概念，只是还没找到成功的状态。&lt;/p&gt;&lt;p&gt;1. 最后有机会合作&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="230" y="150" width="190" height="610" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
